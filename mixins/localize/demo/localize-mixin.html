<!DOCTYPE html>
<html lang="en">
	<head>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta charset="UTF-8">
		<link rel="stylesheet" href="../../../components/demo/styles.css" type="text/css">
		<script type="module">
			import '../../../components/demo/demo-page.js';
			import './localize-mixin-greeting.js';
			import './localize-mixin-mission.js';
			import { Localize } from '../localize-mixin.js';

			const resources = {
				en: {
					basic: '{employerName} is my employer'
				},
				'en-gb': {
					basic: '{employerName} is my employer, but British!'
				}
			};

			const localizer = new Localize({
				importFunc: async lang => await new Promise(r => setTimeout(() => r(resources[lang]), 1000)),
				onResourcesChange: render
			});

			const el = document.querySelector('div');
			function render() {
				el.innerHTML = localizer.localize('basic', { employerName: 'D2L' });
			}

			await localizer.ready;

		</script>
	</head>
	<body unresolved>
		<d2l-demo-page page-title="localize-mixin">

			<h2>localize()</h2>
			<d2l-demo-snippet>
				<d2l-greeting name="Bill"></d2l-greeting>
			</d2l-demo-snippet>

			<h2>localizeHTML()</h2>
			<d2l-demo-snippet>
				<d2l-mission></d2l-mission>
			</d2l-demo-snippet>

			<h2>Non-Lit Localized</h2>
			<div></div>

		</d2l-demo-page>
	</body>
</html>
