<!DOCTYPE html>
<html lang="en">
	<head>
		<title>Prism Helper</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta charset="UTF-8">
		<link rel="stylesheet" href="../../components/demo/styles.css" type="text/css">
		<script type="module">
			import '../../components/colors/colors.js';
			import '../../components/switch/switch.js';
			import '../../components/typography/typography.js';
			import { codeStyles, formatCodeElement } from '../prism.js';
			import { css, html, LitElement } from 'lit';
			import { classMap } from 'lit/directives/class-map.js';

			class DemoPrism extends LitElement {
				static get properties() {
					return {
						dark: { type: Boolean, reflect: true }
					};
				}
				static get styles() {
					return [codeStyles, css`
						:host {
							display: block;
						}
					`];
				}
				render() {
					const classes = { 'd2l-code': true, 'd2l-code-dark': this.dark, 'line-numbers': true };
					return html`
<pre class="${classMap(classes)}"><code class="language-javascript">function helloGrumpy(name) {
	console.log(\`Hi there \${name}. Here's some really long text to test overflowing the bounding container.\`);
}
helloGrumpy('Wizard');
</code></pre>

<pre class="${classMap(classes)}"><code class="language-bash">#!/bin/bash
if [ -d $directory ]; then
	echo "Directory exists"
else
	echo "Directory does not exists"
fi</code></pre>

<pre class="${classMap(classes)}"><code class="language-css">.grumpy > img {
	height: 100%;
	width: 100%;
}</code></pre>

<pre class="${classMap(classes)}"><code class="language-json">{
	"jinxed": "gnomes",
	"grumpy": [ "wizards" ]
}
</code></pre>

<pre class="${classMap(classes)}"><code class="language-sql">DECLARE @MyCounter INT; /* keyword, variable, punctuation */

SELECT AVG(Calories) AS AverageCalories FROM Desserts; /* keyword, function */

SELECT * FROM Desserts /* keyword, operator */

SET ROWCOUNT 4; /* keyword, number */

SET @Hidden = FALSE; /* keyword, variable, boolean */

SET @Donuts = 'Yummy'; /* keyword, variable, string */
</code></pre>
					`;
				}
				updated(changedProperties) {
					super.updated(changedProperties);
					this.shadowRoot.querySelectorAll('pre').forEach(code => formatCodeElement(code));
				}
			}
			customElements.define('d2l-demo-prism', DemoPrism);
		</script>
		<style>
			html {
				background-color: white;
				font-size: 20px;
			}
			body {
				padding: 1rem;
			}
			.heading-container {
				display: flex;
			}
			.heading-container > h1 {
				flex: auto;
			}
			.heading-container > d2l-switch {
				align-self: center;
				flex: none;
			}
			table {
				font-family: "Lato", "Lucida Sans Unicode", "Lucida Grande", sans-serif;
				font-size: 16px;
			}
			th {
				text-align: left;
			}
			tr > td:first-child {
				width: 300px;
			}
			pre {
				max-height: 600px;
				overflow: auto;
			}
		</style>
	</head>
	<body class="d2l-typography">

		<!-- This page intentionally does not use d2l-demo-page so we can properly demo/test the loader without PrismJS being loaded by those components -->

		<div class="heading-container">
			<h1 class="d2l-heading-2">Prism Helper</h1>
			<d2l-switch text="Dark" on text-position="start" on></d2l-switch>
		</div>

		<h2 class="d2l-heading-3">Tokens</h2>

		<table style="width: 100%;">
			<thead>
				<tr>
					<th>Token</th>
					<th>Example</th>
				</tr>
			</thead>
			<tbody>
				<tr>
					<td>keyword</td>
					<td>
						<pre class="d2l-code d2l-code-dark"><code class="language-javascript">import { stuff } from 'some/where.js';</code></pre>
					</td>
				</tr>
				<tr>
					<td>builtin</td>
					<td>
						<pre class="d2l-code d2l-code-dark"><code class="language-python">pi = round(float('3.14159'), 2)</code></pre>
					</td>
				</tr>
				<tr>
					<td>class-name</td>
					<td>
						<pre class="d2l-code d2l-code-dark"><code class="language-javascript">class Wizard extends Human { /* ... */ }</code></pre>
					</td>
				</tr>
				<tr>
					<td>function</td>
					<td>
						<pre class="d2l-code d2l-code-dark"><code class="language-javascript">function helloGrumpy(name) { /* ... */ }
helloGrumpy('Wizard');</code></pre>
					</td>
				</tr>
				<tr>
					<td>parameter</td>
					<td>
						<pre class="d2l-code d2l-code-dark"><code class="language-javascript">function helloGrumpy(name) { /* ... */ }</code></pre>
					</td>
				</tr>
				<tr>
					<td>boolean</td>
					<td>
						<pre class="d2l-code d2l-code-dark"><code class="language-javascript">const wizardsLikeBeer = false;</code></pre>
					</td>
				</tr>
				<tr>
					<td>number</td>
					<td>
						<pre class="d2l-code d2l-code-dark"><code class="language-javascript">const favouriteNumber = 3.14159;</code></pre>
					</td>
				</tr>
				<tr>
					<td>string</td>
					<td>
						<pre class="d2l-code d2l-code-dark"><code class="language-javascript">const hiGrumpy = 'Hi Grumpy!';</code></pre>
					</td>
				</tr>
				<tr>
					<td>template-string, template-punctuation</td>
					<td>
						<pre class="d2l-code d2l-code-dark"><code class="language-javascript">const hiGrumpy = `Hi Grumpy!`;</code></pre>
					</td>
				</tr>
				<tr>
					<td>interpolation, interpolation-punctuation</td>
					<td>
						<pre class="d2l-code d2l-code-dark"><code class="language-javascript">console.log(`Hi there ${name}.`);</code></pre>
					</td>
				</tr>
				<tr>
					<td>char</td>
					<td>
						<pre class="d2l-code d2l-code-dark"><code class="language-javascript"></code></pre>
					</td>
				</tr>
				<tr>
					<td>symbol</td>
					<td>
						<pre class="d2l-code d2l-code-dark"><code class="language-javascript"></code></pre>
					</td>
				</tr>
				<tr>
					<td>regex</td>
					<td>
						<pre class="d2l-code d2l-code-dark"><code class="language-javascript">let entity = /&amp;#x?[\da-f]{1,8};/;</code></pre>
					</td>
				</tr>
				<tr>
					<td>url</td>
					<td>
						<pre class="d2l-code d2l-code-dark"><code class="language-css">body { background: url("wizard.png"); }</code></pre>
					</td>
				</tr>
				<tr>
					<td>operator</td>
					<td>
						<pre class="d2l-code d2l-code-dark"><code class="language-javascript">x += (y + 4 &gt;&gt; -z === w) ? b ** c : ~a;</code></pre>
					</td>
				</tr>
				<tr>
					<td>variable</td>
					<td>
						<pre class="d2l-code d2l-code-dark"><code class="language-sql">DECLARE @MyCounter INT;</code></pre>
					</td>
				</tr>
				<tr>
					<td>constant</td>
					<td>
						<pre class="d2l-code d2l-code-dark"><code class="language-javascript">const PI = 3.14159;</code></pre>
					</td>
				</tr>
				<tr>
					<td>property</td>
					<td>
						<pre class="d2l-code d2l-code-dark"><code class="language-css">.grumpy > img { height: 100%; }</code></pre>
					</td>
				</tr>
				<tr>
					<td>punctuation</td>
					<td>
						<pre class="d2l-code d2l-code-dark"><code class="language-javascript">import { stuff } from 'some/where.js';</code></pre>
					</td>
				</tr>
				<tr>
					<td>important</td>
					<td>
						<pre class="d2l-code d2l-code-dark"><code class="language-css">.grumpy > img { height: 100% !important; }</code></pre>
					</td>
				</tr>
				<tr>
					<td>comment</td>
					<td>
						<pre class="d2l-code d2l-code-dark"><code class="language-javascript">/* grump wizards */</code></pre>
					</td>
				</tr>
				<tr>
					<td>tag</td>
					<td>
						<pre class="d2l-code d2l-code-dark"><code class="language-markup">&lt;h1&gt;Grumpy Wizards&lt;/h1&gt;</code></pre>
					</td>
				</tr>
				<tr>
					<td>attr-name, attr-value</td>
					<td>
						<pre class="d2l-code d2l-code-dark"><code class="language-markup">&lt;h1 class="dangerous"&gt;Grumpy Wizards&lt;/h1&gt;</code></pre>
					</td>
				</tr>
				<tr>
					<td>namespace</td>
					<td>
						<pre class="d2l-code d2l-code-dark"><code class="language-java">throw new java.lang.UnsupportedOperationException();</code></pre>
					</td>
				</tr>
				<tr>
					<td>prolog</td>
					<td>
						<pre class="d2l-code d2l-code-dark"><code class="language-markup">&lt?xml version="1.0" encoding="utf-8"?&gt;</code></pre>
					</td>
				</tr>
				<tr>
					<td>doctype</td>
					<td>
						<pre class="d2l-code d2l-code-dark"><code class="language-markup">&lt;!DOCTYPE html&gt;</code></pre>
					</td>
				</tr>
				<tr>
					<td>cdata</td>
					<td>
						<pre class="d2l-code d2l-code-dark"><code class="language-markup">&lt;![CDATA[ grumpy wizards eat donuts ]]&gt;</code></pre>
					</td>
				</tr>
				<tr>
					<td>entity</td>
					<td>
						<pre class="d2l-code d2l-code-dark"><code class="language-markup">&amp;pound; &amp;#163;</code></pre>
					</td>
				</tr>
				<tr>
					<td>atrule</td>
					<td>
						<pre class="d2l-code d2l-code-dark"><code class="language-css">@media (prefers-reduced-motion: reduce) { /* no animations */ }</code></pre>
					</td>
				</tr>
				<tr>
					<td>selector</td>
					<td>
						<pre class="d2l-code d2l-code-dark"><code class="language-css">.grumpy > img { /* ... */ }</code></pre>
					</td>
				</tr>
				<tr>
					<td>null</td>
					<td>
						<pre class="d2l-code d2l-code-dark"><code class="language-json">{ "fritter": null }</code></pre>
					</td>
				</tr>
				<tr>
					<td>color</td>
					<td>
						<pre class="d2l-code d2l-code-dark"><code class="language-css">background-color: rgba(0, 0, 0, 0.4);
border: 1px solid #cd2026;
</code></pre>
					</td>
				</tr>
			</tbody>
		</table>

		<h2 class="d2l-heading-3">Language Samples</h2>

<pre class="d2l-code d2l-code-dark line-numbers"><code class="language-arduino">// digital pin 2 has a pushbutton attached to it. Give it a name:
int pushButton = 2;

// the setup routine runs once when you press reset:
void setup() {
	// initialize serial communication at 9600 bits per second:
	Serial.begin(9600);
	// make the pushbutton's pin an input:
	pinMode(pushButton, INPUT);
}

// the loop routine runs over and over again forever:
void loop() {
	// read the input pin:
	int buttonState = digitalRead(pushButton);
	// print out the state of the button:
	Serial.println(buttonState);
	delay(1); // delay in between reads for stability
}
</code></pre>

<pre class="d2l-code d2l-code-dark line-numbers"><code class="language-armasm">
	AREA     ARMex, CODE, READONLY
                            ; Name this block of code ARMex
	ENTRY                   ; Mark first instruction to execute
start
	MOV      r0, #10        ; Set up parameters
	MOV      r1, #3
	ADD      r0, r0, r1     ; r0 = r0 + r1
stop
	MOV      r0, #0x18      ; angel_SWIreason_ReportException
	LDR      r1, =0x20026   ; ADP_Stopped_ApplicationExit
	SVC      #0x123456      ; ARM semihosting (formerly SWI)
	END                     ; Mark end of file
</code></pre>

<pre class="d2l-code d2l-code-dark line-numbers"><code class="language-bash">#!/bin/bash
if [ -d $directory ]; then
	echo "Directory exists"
else
	echo "Directory does not exists"
fi</code></pre>

<pre class="d2l-code d2l-code-dark line-numbers"><code class="language-c">#include &lt;stdio.h&gt;
int main() {
	char c;
	printf("Enter a character: ");
	scanf("%c", &c);

	// %d displays the integer value of a character
	// %c displays the actual character
	printf("ASCII value of %c = %d", c, c);

	return 0;
}
</code></pre>

<pre class="d2l-code d2l-code-dark line-numbers"><code class="language-cpp">#include &lt;iostream&gt;
using namespace std;

int main()
{
	int divisor, dividend, quotient, remainder;

	cout << "Enter dividend: ";
	cin >> dividend;

	cout << "Enter divisor: ";
	cin >> divisor;

	quotient = dividend / divisor;
	remainder = dividend % divisor;

	cout << "Quotient = " << quotient << endl;
	cout << "Remainder = " << remainder;

	return 0;
}
</code></pre>

<pre class="d2l-code d2l-code-dark line-numbers"><code class="language-csharp">using System;

namespace Method {

	class Program {

		// method declaration
		public void display() {
			Console.WriteLine("Hello World");
		}

		static void Main(string[] args) {

			// create class object
			Program p1 = new Program();

			//call method
			p1.display();

			Console.ReadLine();

		}
	}
}
</code></pre>

<pre class="d2l-code d2l-code-dark line-numbers"><code class="language-css">.grumpy > img {
	background-image: url("smile.png");
	height: 100%;
	width: var(--some-var);
}
@font-face {
	font-family: 'Lato';
	font-style: normal;
	src: local('Lato Regular');
}
@media (prefers-reduced-motion: reduce) {
	:host([opened]), :host([opened-above]) {
		animation: none !important;
	}
}
</code></pre>

<pre class="d2l-code d2l-code-dark line-numbers"><code class="language-haskell">{-# START_FILE main.hs #-}
import System.IO

main = do
	handle &lt;- openFile "file.txt" ReadMode
	contents &lt;- hGetContents handle
	putStr contents
	hClose handle

{-# START_FILE file.txt #-}
Hello, world!

import System.Random

main = (randomRIO (1, 100) :: IO Int) &gt;&gt;= print
</code></pre>

<pre class="d2l-code d2l-code-dark line-numbers"><code class="language-java">public class VowelConsonant {

	public static void main(String[] args) {

		char ch = 'i';

		if(ch == 'a' || ch == 'e' || ch == 'i' || ch == 'o' || ch == 'u' )
			System.out.println(ch + " is vowel");
		else
			System.out.println(ch + " is consonant");

	}
}
</code></pre>

<pre class="d2l-code d2l-code-dark line-numbers"><code class="language-javascript">
/* grumpy javascript */

import { stuff } from 'some/where.js';

function helloGrumpy(name) {
	console.log(`Hi there ${name}.`);
}

class Wizard extends Human { }

const grumpy = new Wizard();

let wizardFoods = [...donuts, ... cakes, ...pies];

const wizardsLikeBeer = false;

const favouriteNumber = 3.14159;

const PI = 3.14159;

const regex = /[^\w\s]/g; // regex, regex-delimiter, regex-source, regex-flag
</code></pre>

<pre class="d2l-code d2l-code-dark line-numbers"><code class="language-json">{
	"jinxed": "gnomes",
	"grumpy": [ "wizards" ],
	"jelly": 99,
	"donut": true,
	"fritter": null
}
</code></pre>

<pre class="d2l-code d2l-code-dark line-numbers"><code class="language-kotlin">fun main(args: Array<String>) {

	val a = 2.3
	val b = 4
	val c = 5.6
	val root1: Double
	val root2: Double
	val output: String

	val determinant = b * b - 4.0 * a * c

	// condition for real and different roots
	if (determinant > 0) {
		root1 = (-b + Math.sqrt(determinant)) / (2 * a)
		root2 = (-b - Math.sqrt(determinant)) / (2 * a)

		output = "root1 = %.2f and root2 = %.2f".format(root1, root2)
	}
	// Condition for real and equal roots
	else if (determinant == 0.0) {
		root2 = -b / (2 * a)
		root1 = root2

		output = "root1 = root2 = %.2f;".format(root1)
	}
	// If roots are not real
	else {
		val realPart = -b / (2 * a)
		val imaginaryPart = Math.sqrt(-determinant) / (2 * a)

		output = "root1 = %.2f+%.2fi and root2 = %.2f-%.2fi".format(realPart, imaginaryPart, realPart, imaginaryPart)
	}

	println(output)
}
</code></pre>

<pre class="d2l-code d2l-code-dark line-numbers"><code class="language-latex">
\begin{aligned} \nabla \times \vec{\mathbf{B}} -\, \frac1c\, \frac{\partial\vec{\mathbf{E}}}{\partial t} & = \frac{4\pi}{c}\vec{\mathbf{j}} \\ \nabla \cdot \vec{\mathbf{E}} & = 4 \pi \rho \\ \nabla \times \vec{\mathbf{E}}\, +\, \frac1c\, \frac{\partial\vec{\mathbf{B}}}{\partial t} & = \vec{\mathbf{0}} \\ \nabla \cdot \vec{\mathbf{B}} & = 0 \end{aligned}

P(E) = {n \choose k} p^k (1-p)^{ n-k}

\begin{aligned} \dot{x} & = \sigma(y-x) \\ \dot{y} & = \rho x - y - xz \\ \dot{z} & = -\beta z + xy \end{aligned}
</code></pre>

<pre class="d2l-code d2l-code-dark line-numbers"><code class="language-markup">&lt;!DOCTYPE html&gt; &lt;!-- doctype, doctype-tag, name --&gt;
&lt;html&gt;
	&lt;body class="typography"&gt;
		&lt;![CDATA[ some cdata section ]]&gt;
		&lt;div style="color: blue;"&gt;
			&amp;pound;
			&amp;#163;
		&lt;/div&gt;
	&lt;/body&gt;
&lt;/html&gt;
</code></pre>

<pre class="d2l-code d2l-code-dark line-numbers"><code class="language-matlab">for n = 1:5
	x = n*0.1;
	z = myfunc2(x,2,3,7);
	fprintf('x = %4.2f f(x) = %8.4f \r',x,z)
end
</code></pre>

<pre class="d2l-code d2l-code-dark line-numbers"><code class="language-python"># Program to check if a number is prime or not

num = 29

# To take input from the user
#num = int(input("Enter a number: "))

# define a flag variable
flag = False

# prime numbers are greater than 1
if num > 1:
    # check for factors
    for i in range(2, num):
        if (num % i) == 0:
            # if factor is found, set flag to True
            flag = True
            # break out of loop
            break

# check if flag is True
if flag:
    print(num, "is not a prime number")
else:
    print(num, "is a prime number")
</code></pre>

<pre class="d2l-code d2l-code-dark line-numbers"><code class="language-r"># decimal variable
num = as.integer(readline(prompt = "Enter a number: "))
# num = 15
isPrime = 0
if (num > 1) {
	isPrime = 1
	for (i in 2: (num - 1)) {
		if ((num %% i) == 0) {
			isPrime = 0
			break
		}
	}
}
if (num == 2) isPrime = 1
if (isPrime == 1) {
	print(paste(num, "is a prime number"))
} else {
	print(paste(num, "is not a prime number"))
}
</code></pre>

<pre class="d2l-code d2l-code-dark line-numbers"><code class="language-racket">(define (rgb-maker mk)
  (lambda (sz)
    (vc-append (colorize (mk sz) "red")
               (colorize (mk sz) "green")
               (colorize (mk sz) "blue"))))
</code></pre>

<pre class="d2l-code d2l-code-dark line-numbers"><code class="language-regex">(\W|^)[\w.\-]{0,25}@(yahoo|hotmail|gmail)\.com(\W|$)
(\W|^)po[#\-]{0,1}\s{0,1}\d{2}[\s-]{0,1}\d{4}(\W|$)
^(19|20)\d\d[- /.](0[1-9]|1[012])[- /.](0[1-9]|[12][0-9]|3[01])$
\b(?:word1\W+(?:\w+\W+){1,6}?word2|word2\W+(?:\w+\W+){1,6}?word1)\b
^(?=.*?\bone\b)(?=.*?\btwo\b)(?=.*?\bthree\b).*$
</code></pre>

<pre class="d2l-code d2l-code-dark line-numbers"><code class="language-sql">DECLARE @MyCounter INT; /* keyword, variable, punctuation */

SELECT AVG(Calories) AS AverageCalories FROM Desserts;

SELECT * FROM Desserts

SET ROWCOUNT 4;

SET @Hidden = FALSE;

SET @Donuts = 'Yummy';
</code></pre>

<pre class="d2l-code d2l-code-dark line-numbers"><code class="language-wolfram">CloudDeploy[
 FormFunction[FormObject[{"ImageURL" -> "String"}],
  ImageEffect[
    ColorConvert[
     ImageMultiply[
      ColorConvert[
       ImageAdd[ImageAdjust[Import[#ImageURL], .2],
        RGBColor[.25, .25, -.1]], "HSB"], Hue[1, .7, 1]],
     "RGB"], {"PoissonNoise", .5}] &amp;, "JPEG"],
 Permissions -> "Public"]
</code></pre>

		<h2 class="d2l-heading-3">More Samples (Web Component Scope)</h2>

		<d2l-demo-prism dark></d2l-demo-prism>

		<script type="module">
				import { formatCodeElement } from '../prism.js';

				const formatCodeElements = () => {
					const darkSwitch = document.querySelector('d2l-switch');
					const codeElements = document.querySelectorAll('pre');
					codeElements.forEach(codeElement => {
						if (darkSwitch.on) codeElement.classList.add('d2l-code-dark');
						else codeElement.classList.remove('d2l-code-dark');
						formatCodeElement(codeElement);
					});
					document.querySelector('d2l-demo-prism').dark = darkSwitch.on;
				};

				formatCodeElements();

				const darkSwitch = document.querySelector('d2l-switch');
				darkSwitch.addEventListener('change', formatCodeElements);

		</script>
	</body>
</html>
